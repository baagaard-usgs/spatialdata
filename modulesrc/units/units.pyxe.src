#!/usr/bin/env python
#
# ======================================================================
#
#                           Brad T. Aagaard
#                        U.S. Geological Survey
#
# {LicenseText}
#
# ======================================================================
#

#header{
#include "spatialdata/units/Nondimensional.hh"

#include <stdexcept>
#include <Python.h>
#}header

# ----------------------------------------------------------------------
cdef extern from "Python.h":
  object PyCObject_FromVoidPtr(void*, void (*destruct)(void*))
  void* PyCObject_AsVoidPtr(object)

cdef void* ptrFromHandle(obj):
  """Extract pointer from PyCObject."""
  return PyCObject_AsVoidPtr(obj.handle)

cdef extern from "stdlib.h":
  ctypedef unsigned long size_t
  void* malloc(size_t size)
  void free(void* mem)

cdef void Nondimensional_destructor(void* obj):
  """
  Destroy Nondimensional object.
  """
  # create shim for destructor
  #embed{ void Nondimensional_destructor_cpp(void* pObj)
  spatialdata::units::Nondimensional* pDim =
  (spatialdata::units::Nondimensional*) pObj;
  delete pDim;
  #}embed
  Nondimensional_destructor_cpp(obj)
  return

  
# ----------------------------------------------------------------------
cdef class Nondimensional:

  cdef void* thisptr # Pointer to C++ object
  cdef readonly object handle # PyCObject holding pointer to C++ object
  cdef readonly object name # Identifier for object base type

  def __init__(self):
    """Constructor."""
    # create shim for constructor
    #embed{ void* Nondimensional_constructor()
      return (void*)(new spatialdata::units::Nondimensional);
    #}embed

    self.name = "spatialdata_units_Nondimensional"
    self.thisptr = Nondimensional_constructor()
    self.handle = self._createHandle()
    return


  property length:
    def __set__(self, value):
      """Set value to nondimensionalize length scale in meters (SI units)."""
      # create shim for method 'length'
      #embed{ void Nondimensional_length_set(void* pObj, double value)
      try {
        ((spatialdata::units::Nondimensional*) pObj)->lengthScale(value);
      } catch (const std::exception& err) {
        PyErr_SetString(PyExc_RuntimeError,
                        const_cast<char*>(err.what()));
      } catch (...) {
        PyErr_SetString(PyExc_RuntimeError,
                        "Caught unknown C++ exception.");
      } // try/catch
      #}embed
      Nondimensional_length_set(self.thisptr, value)


  property pressure:
    def __set__(self, value):
      """Set value to nondimensionalize pressure scale in Pascals (SI units)."""
      # create shim for method 'pressure'
      #embed{ void Nondimensional_pressure_set(void* pObj, double value)
      try {
        ((spatialdata::units::Nondimensional*) pObj)->pressureScale(value);
      } catch (const std::exception& err) {
        PyErr_SetString(PyExc_RuntimeError,
                        const_cast<char*>(err.what()));
      } catch (...) {
        PyErr_SetString(PyExc_RuntimeError,
                        "Caught unknown C++ exception.");
      } // try/catch
      #}embed
      Nondimensional_pressure_set(self.thisptr, value)


  property time:
    def __set__(self, value):
      """Set value to nondimensionalize time scale in seconds (SI units)."""
      # create shim for method 'time'
      #embed{ void Nondimensional_time_set(void* pObj, double value)
      try {
        ((spatialdata::units::Nondimensional*) pObj)->timeScale(value);
      } catch (const std::exception& err) {
        PyErr_SetString(PyExc_RuntimeError,
                        const_cast<char*>(err.what()));
      } catch (...) {
        PyErr_SetString(PyExc_RuntimeError,
                        "Caught unknown C++ exception.");
      } // try/catch
      #}embed
      Nondimensional_time_set(self.thisptr, value)


  property density:
    def __set__(self, value):
      """Set value to nondimensionalize density scale in kg/m^3 (SI units)."""
      # create shim for method 'density'
      #embed{ void Nondimensional_density_set(void* pObj, double value)
      try {
        ((spatialdata::units::Nondimensional*) pObj)->densityScale(value);
      } catch (const std::exception& err) {
        PyErr_SetString(PyExc_RuntimeError,
                        const_cast<char*>(err.what()));
      } catch (...) {
        PyErr_SetString(PyExc_RuntimeError,
                        "Caught unknown C++ exception.");
      } // try/catch
      #}embed
      Nondimensional_density_set(self.thisptr, value)


  def _createHandle(self):
    """Wrap pointer to C++ object in PyCObject."""
    return PyCObject_FromVoidPtr(self.thisptr, Nondimensional_destructor)


# End of file 
